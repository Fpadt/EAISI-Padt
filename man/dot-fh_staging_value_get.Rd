% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/file-handling_int.R
\name{.fh_staging_value_get}
\alias{.fh_staging_value_get}
\title{Retrieve a Specific Field from Specified or All Staging Levels}
\usage{
.fh_staging_value_get(.key, .envr = NULL, .config = .hl_config_get())
}
\arguments{
\item{.key}{A character string specifying the name of the field to retrieve
from each staging level entry (e.g., \code{"name"} or \code{"folder"}).}

\item{.envr}{An optional character string specifying a single staging level
name (e.g., \code{"bronze"}, \code{"silver"}). If \code{NULL} (default),
the function returns values for \emph{all} staging levels.}

\item{.config}{A list or environment containing the loaded configuration.
Defaults to \code{.hl_config_get()}, an internal function assumed to provide
the YAML or config object.}
}
\value{
A character vector containing the requested field's value for the matching
staging levels. If \code{.envr} is \code{NULL}, this includes \emph{all}
levels. If no staging level matches \code{.envr}, the function returns
an empty character vector.
}
\description{
This internal helper function extracts a user-specified field (e.g.,
\code{"name"}, \code{"folder"}, \code{"description"}, \code{"compression"})
from each entry in \code{staging_levels}. You can optionally provide
\code{.envr} (the name of a single staging level) to retrieve the field
only from that level.
}
\details{
The function first accesses \code{staging_levels} in the configuration, which
should be a list of entries, each containing at least one field named
according to \code{.key}. It filters the list by \code{.envr} (if specified),
then uses \code{\link[base]{sapply}} to extract that field from each matching
staging level, returning a character vector of results.

\strong{Note:} This function assumes the field referenced by \code{.key} is
a single string. If \code{.key} corresponds to a field that is \emph{not}
a single string (e.g., \code{file_types} as a vector), you may need to adapt
the code to return a list or handle that field differently.

If no staging levels exist, or if a requested field is missing, the function
raises an error. If a specified \code{.envr} is not found, it returns an empty
vector (with a warning).
}
\examples{
\dontrun{
  # Example YAML:
  # staging_levels:
  #   - name: bronze
  #     folder: bronze
  #   - name: silver
  #     folder: silver

  # Get all staging level names:
  stg_names <- .fh_staging_value_get(.key = "name")
  print(stg_names)
  # c("bronze", "silver", "gold", "platinum", ...)

  # Get only the folder for the 'silver' staging:
  silver_folder <- .fh_staging_value_get(.key = "folder", .envr = "silver")
  print(silver_folder)
  # e.g. "silver"
}

}
\keyword{internal}
